<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ramadan Gold Luxury</title>

<style>
body{
margin:0;
overflow:hidden;
background:#000;
font-family:"Noto Kufi Arabic",system-ui;
color:white;
}

canvas{
position:fixed;
inset:0;
width:100%;
height:100%;
}

.ui{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:space-between;
padding:20px;
pointer-events:none;
}

.title{
text-align:center;
margin-bottom:60px;
opacity:0;
transform:translateY(50px);
transition:.8s cubic-bezier(.2,.8,.2,1);
text-shadow:0 0 40px rgba(255,200,120,.6);
}

.title.on{
opacity:1;
transform:translateY(0);
}

.title h1{
font-size:75px;
margin:0;
background:linear-gradient(90deg,#f6d365,#ffffff,#f6d365);
-webkit-background-clip:text;
color:transparent;
}

.title p{
margin-top:15px;
font-size:22px;
opacity:.85;
}

.pop{
position:fixed;
left:50%;
bottom:40px;   /* moved down */
transform:translateX(-50%);
width:90px;
height:90px;
border-radius:50%;
background:radial-gradient(circle,#f6d365,#ffb36b);
display:flex;
align-items:center;
justify-content:center;
font-size:26px;
cursor:pointer;
box-shadow:0 0 40px rgba(255,200,120,.8);
transition:.2s;
z-index:20;
}
.pop:active{transform:translateX(-50%) scale(.9)}

.hint{
position:fixed;
bottom:10px;
left:50%;
transform:translateX(-50%);
opacity:.5;
font-size:12px;
}
</style>
</head>

<body>

<canvas id="c"></canvas>

<div class="ui">
<div></div>
<div class="title" id="title">
<h1>رمضان كريم</h1>
<p>اللهم اجعل رمضان نورًا في حياتنا… وبركةً في أرزاقنا ✨</p>
</div>
<div></div>
</div>

<div class="pop" id="popBtn">✨</div>
<div class="hint">اضغط لتشغيل الزينة</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
const scene=new THREE.Scene()
const camera=new THREE.PerspectiveCamera(45,innerWidth/innerHeight,.1,200)
camera.position.set(0,1.2,16)

const renderer=new THREE.WebGLRenderer({canvas:c,antialias:true})
renderer.setSize(innerWidth,innerHeight)
renderer.setPixelRatio(Math.min(devicePixelRatio,2))

window.addEventListener("resize",()=>{
renderer.setSize(innerWidth,innerHeight)
camera.aspect=innerWidth/innerHeight
camera.updateProjectionMatrix()
})

/* LIGHTS */
const ambient=new THREE.AmbientLight(0xffffff,.03)
scene.add(ambient)

const mainLight=new THREE.PointLight(0xffd88a,0,80)
mainLight.position.set(0,6,6)
scene.add(mainLight)

/* STARS */
const starGeo=new THREE.BufferGeometry()
const starCount=6000
const starPos=new Float32Array(starCount*3)

for(let i=0;i<starCount;i++){
starPos[i*3]=(Math.random()-.5)*100
starPos[i*3+1]=(Math.random()-.5)*60
starPos[i*3+2]=-Math.random()*120
}
starGeo.setAttribute("position",new THREE.BufferAttribute(starPos,3))
const stars=new THREE.Points(starGeo,new THREE.PointsMaterial({
color:0xffffff,size:.12,transparent:true,opacity:.9
}))
scene.add(stars)

/* GOLD CHAIN GARLAND */
function makeGoldGarland(y){
const group=new THREE.Group()

const pts=[]
for(let i=0;i<=80;i++){
const x=(i/80 - .5)*18
const yy=y + Math.sin(i/80*Math.PI)*0.7
pts.push(new THREE.Vector3(x,yy,-8))
}

const curve=new THREE.CatmullRomCurve3(pts)
const ropeGeo=new THREE.TubeGeometry(curve,200,.05,12,false)
const ropeMat=new THREE.MeshStandardMaterial({
color:0xf6d365,
metalness:1,
roughness:.2,
transparent:true,
opacity:0
})
const rope=new THREE.Mesh(ropeGeo,ropeMat)
group.add(rope)

const bulbs=[]
for(let i=0;i<20;i++){
const t=i/19
const p=curve.getPoint(t)

const bulb=new THREE.Mesh(
new THREE.SphereGeometry(.2,20,20),
new THREE.MeshStandardMaterial({
color:0xffe7b0,
emissive:0xffd88a,
emissiveIntensity:0,
metalness:.1,
roughness:.2,
transparent:true,
opacity:0
})
)
bulb.position.copy(p)

const light=new THREE.PointLight(0xffd88a,0,15)
light.position.copy(p)

group.add(bulb)
group.add(light)

bulbs.push({bulb,light})
}

scene.add(group)
return {ropeMat,bulbs}
}

const G1=makeGoldGarland(5)
const G2=makeGoldGarland(4.2)

/* TOGGLE */
let on=false
let reveal=0
let target=0

const title=document.getElementById("title")
const popBtn=document.getElementById("popBtn")

popBtn.onclick=()=>{
on=true
target=1
title.classList.add("on")
popBtn.style.display="none"  // hide button completely
}

/* ANIMATE */
function animate(){
requestAnimationFrame(animate)

reveal += (target-reveal)*.05

ambient.intensity=.03+reveal*.6
mainLight.intensity=reveal*3

;[G1,G2].forEach(G=>{
G.ropeMat.opacity=reveal

G.bulbs.forEach((b,i)=>{
b.bulb.material.opacity=reveal
b.bulb.material.emissiveIntensity=reveal*3
b.light.intensity=reveal*5
})
})

stars.rotation.y+=.0005

renderer.render(scene,camera)
}
animate()
</script>

</body>
</html>
