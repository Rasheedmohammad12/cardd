<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ramadan Ultimate Luxury</title>

<style>
body{
margin:0;
overflow:hidden;
background:#000;
font-family:"Noto Kufi Arabic",system-ui;
color:white;
}

canvas{position:fixed;inset:0;width:100%;height:100%}

.ui{
position:fixed; inset:0;
display:flex; flex-direction:column;
justify-content:space-between;
padding:20px;
pointer-events:none;
}

.title{
text-align:center;
margin-bottom:70px;
opacity:0;
transform:translateY(50px);
transition:.8s cubic-bezier(.2,.8,.2,1);
text-shadow:0 0 40px rgba(255,255,255,.5);
}

.title.on{opacity:1;transform:translateY(0)}

.title h1{
font-size:75px;
margin:0;
background:linear-gradient(90deg,#ffffff,#dddddd,#ffffff);
-webkit-background-clip:text;
color:transparent;
}

.title p{
margin-top:15px;
font-size:22px;
opacity:.85;
}

.pop{
position:fixed;
left:50%;
bottom:40px;
transform:translateX(-50%);
width:90px;
height:90px;
border-radius:50%;
background:radial-gradient(circle,#f6d365,#ffb36b);
display:flex;
align-items:center;
justify-content:center;
font-size:26px;
cursor:pointer;
box-shadow:0 0 40px rgba(255,200,120,.8);
z-index:20;
}
</style>
</head>

<body>

<canvas id="c"></canvas>

<div class="ui">
<div></div>
<div class="title" id="title">
<h1>رمضان كريم</h1>
<p>اللهم اجعل رمضان نورًا في قلوبنا… وفرحًا في أيامنا ✨</p>
</div>
<div></div>
</div>

<div class="pop" id="popBtn">✨</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
const scene=new THREE.Scene()
const camera=new THREE.PerspectiveCamera(45,innerWidth/innerHeight,.1,200)
camera.position.set(0,1.5,18)

const renderer=new THREE.WebGLRenderer({canvas:c,antialias:true})
renderer.setSize(innerWidth,innerHeight)
renderer.setPixelRatio(Math.min(devicePixelRatio,2))

window.addEventListener("resize",()=>{
renderer.setSize(innerWidth,innerHeight)
camera.aspect=innerWidth/innerHeight
camera.updateProjectionMatrix()
})

/* LIGHTS */
const ambient=new THREE.AmbientLight(0xffffff,.03)
scene.add(ambient)

const mainLight=new THREE.PointLight(0xffe7b0,0,100)
mainLight.position.set(0,8,6)
scene.add(mainLight)

/* STARS */
const starGeo=new THREE.BufferGeometry()
const starCount=8000
const starPos=new Float32Array(starCount*3)

for(let i=0;i<starCount;i++){
starPos[i*3]=(Math.random()-.5)*120
starPos[i*3+1]=(Math.random()-.5)*80
starPos[i*3+2]=-Math.random()*150
}
starGeo.setAttribute("position",new THREE.BufferAttribute(starPos,3))
const stars=new THREE.Points(starGeo,new THREE.PointsMaterial({
color:0xffffff,size:.15,transparent:true,opacity:.9
}))
scene.add(stars)

/* GOLD GARLAND */
function makeGarland(y){
const pts=[]
for(let i=0;i<=80;i++){
const x=(i/80 - .5)*20
const yy=y + Math.sin(i/80*Math.PI)*0.8
pts.push(new THREE.Vector3(x,yy,-10))
}
const curve=new THREE.CatmullRomCurve3(pts)
const ropeGeo=new THREE.TubeGeometry(curve,200,.06,12,false)
const ropeMat=new THREE.MeshStandardMaterial({
color:0xf6d365,metalness:1,roughness:.2,transparent:true,opacity:0
})
const rope=new THREE.Mesh(ropeGeo,ropeMat)
scene.add(rope)

const bulbs=[]
for(let i=0;i<22;i++){
const t=i/21
const p=curve.getPoint(t)
const bulb=new THREE.Mesh(
new THREE.SphereGeometry(.25,20,20),
new THREE.MeshStandardMaterial({
color:0xfff3d0,
emissive:0xffd88a,
emissiveIntensity:0,
transparent:true,
opacity:0
})
)
bulb.position.copy(p)
const light=new THREE.PointLight(0xffd88a,0,20)
light.position.copy(p)
scene.add(bulb)
scene.add(light)
bulbs.push({bulb,light})
}
return {ropeMat,bulbs}
}

const G1=makeGarland(6)
const G2=makeGarland(5)

/* VIP LANTERN */
function lantern(x){
const g=new THREE.Group()

const body=new THREE.Mesh(
new THREE.CylinderGeometry(.6,.7,2,64,1,true),
new THREE.MeshStandardMaterial({color:0xf6d365,metalness:.9,roughness:.3})
)

const top=new THREE.Mesh(
new THREE.SphereGeometry(.5,40,30),
new THREE.MeshStandardMaterial({color:0xf6d365,metalness:1,roughness:.2})
)
top.scale.set(1.3,.6,1.3)
top.position.y=1.2

const bottom=top.clone()
bottom.position.y=-1.2

const light=new THREE.PointLight(0xffd88a,0,40)
g.add(body,top,bottom,light)
g.position.set(x,0,-20)
scene.add(g)
return {g,light}
}

const L1=lantern(-6)
const L2=lantern(0)
const L3=lantern(6)

/* WHITE CRESCENT */
const crescent=new THREE.Group()

const outer=new THREE.Mesh(
new THREE.TorusGeometry(3,0.4,64,200,Math.PI*1.6),
new THREE.MeshStandardMaterial({
color:0xffffff,
metalness:.2,
roughness:.3,
emissive:0xffffff,
emissiveIntensity:0
})
)
outer.rotation.z=.3

const inner=new THREE.Mesh(
new THREE.TorusGeometry(2.4,0.4,64,200,Math.PI*1.6),
new THREE.MeshBasicMaterial({color:0x000000})
)
inner.position.x=.8
inner.rotation.copy(outer.rotation)

crescent.add(outer,inner)
crescent.position.set(0,2,-25)
scene.add(crescent)

/* TOGGLE */
let reveal=0
let target=0
const title=document.getElementById("title")
const popBtn=document.getElementById("popBtn")

popBtn.onclick=()=>{
target=1
title.classList.add("on")
popBtn.style.display="none"
}

/* ANIMATE */
function animate(){
requestAnimationFrame(animate)

reveal += (target-reveal)*.05

ambient.intensity=.03+reveal*.6
mainLight.intensity=reveal*3

;[G1,G2].forEach(G=>{
G.ropeMat.opacity=reveal
G.bulbs.forEach(b=>{
b.bulb.material.opacity=reveal
b.bulb.material.emissiveIntensity=reveal*4
b.light.intensity=reveal*6
})
})

;[L1,L2,L3].forEach((L,i)=>{
L.g.position.z=-20+reveal*15
L.light.intensity=reveal*8
L.g.rotation.z=Math.sin(Date.now()*.001+i)*0.1
})

crescent.position.z=-25+reveal*20
crescent.rotation.y+=.01
crescent.children[0].material.emissiveIntensity=reveal*1.5

stars.rotation.y+=.0004

renderer.render(scene,camera)
}
animate()
</script>

</body>
</html>
