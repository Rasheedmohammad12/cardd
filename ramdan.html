<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ramadan Luxury Lights</title>

<style>
body{
margin:0;
overflow:hidden;
background:radial-gradient(circle at 50% 20%,#111633,#03040a 70%);
font-family:"Noto Kufi Arabic",system-ui;
color:white;
}

canvas{
position:fixed;
inset:0;
width:100%;
height:100%;
}

.ui{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
pointer-events:none;
}

.title{
text-align:center;
opacity:0;
transform:translateY(40px) scale(.95);
transition:0.7s cubic-bezier(.2,.8,.2,1);
}

.title h1{
font-size:70px;
margin:0;
background:linear-gradient(90deg,#f6d365,#fff,#7cf7d4);
-webkit-background-clip:text;
color:transparent;
letter-spacing:2px;
}

.title p{
margin-top:20px;
font-size:20px;
opacity:.85;
}

.ropeWrap{
position:fixed;
top:0;
left:50%;
transform:translateX(-50%);
height:100vh;
pointer-events:none;
}

.rope{
width:6px;
height:50vh;
background:linear-gradient(white,transparent);
}

.knob{
position:absolute;
top:50vh;
width:64px;
height:64px;
border-radius:50%;
background:radial-gradient(circle at 30% 30%,#f6d365,#fda085);
display:flex;
align-items:center;
justify-content:center;
cursor:grab;
pointer-events:auto;
box-shadow:0 10px 60px rgba(0,0,0,.7);
font-size:22px;
}
.knob:active{cursor:grabbing}
</style>
</head>

<body>

<canvas id="c"></canvas>

<div class="ui">
<div class="title" id="title">
<h1>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</h1>
<p>Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠÙ…Ù„Ø£ Ø£ÙŠØ§Ù…ÙƒÙ… Ù†ÙˆØ±Ù‹Ø§ ÙˆØ±Ø­Ù…Ø©Ù‹ ÙˆØ¨Ø±ÙƒØ© ðŸŒ™âœ¨</p>
</div>
</div>

<div class="ropeWrap">
<div class="rope"></div>
<div class="knob" id="knob">âœ¨</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>

const scene=new THREE.Scene()
const camera=new THREE.PerspectiveCamera(45,innerWidth/innerHeight,.1,100)
camera.position.z=10

const renderer=new THREE.WebGLRenderer({canvas:c,alpha:true,antialias:true})
renderer.setSize(innerWidth,innerHeight)
renderer.setPixelRatio(devicePixelRatio)

window.addEventListener("resize",()=>{
renderer.setSize(innerWidth,innerHeight)
camera.aspect=innerWidth/innerHeight
camera.updateProjectionMatrix()
})

/* ---------- Lights ---------- */

const ambient=new THREE.AmbientLight(0xffffff,.05)
scene.add(ambient)

const mainLight=new THREE.PointLight(0xffd88a,0,30)
mainLight.position.set(0,3,3)
scene.add(mainLight)

/* ---------- Stars ---------- */

const starGeo=new THREE.BufferGeometry()
const starCount=2000
const starPos=new Float32Array(starCount*3)

for(let i=0;i<starCount;i++){
starPos[i*3]=(Math.random()-.5)*30
starPos[i*3+1]=(Math.random()-.5)*20
starPos[i*3+2]=-Math.random()*40
}

starGeo.setAttribute("position",new THREE.BufferAttribute(starPos,3))
const starMat=new THREE.PointsMaterial({color:0xffffff,size:.05})
const stars=new THREE.Points(starGeo,starMat)
scene.add(stars)

/* ---------- Decorative Hanging Lights ---------- */

const lightsGroup=new THREE.Group()

function bulb(x,y){
const g=new THREE.Group()

const mesh=new THREE.Mesh(
new THREE.SphereGeometry(.25,16,16),
new THREE.MeshStandardMaterial({color:0xf6d365,emissive:0xf6d365,emissiveIntensity:0})
)

const glow=new THREE.PointLight(0xffe7b0,0,10)

g.add(mesh,glow)
g.position.set(x,y,-5)
return {g,mesh,glow}
}

const bulbs=[]
for(let i=-4;i<=4;i+=2){
bulbs.push(bulb(i,3))
}

bulbs.forEach(b=>lightsGroup.add(b.g))
scene.add(lightsGroup)

/* ---------- Pull Logic ---------- */

let reveal=0,target=0
const knob=document.getElementById("knob")
const title=document.getElementById("title")

let dragging=false,startY=0,startVal=0

knob.addEventListener("pointerdown",e=>{
dragging=true
startY=e.clientY
startVal=target
knob.setPointerCapture(e.pointerId)
})

window.addEventListener("pointermove",e=>{
if(!dragging)return
const delta=(e.clientY-startY)/300
target=Math.min(1,Math.max(0,startVal+delta))
})

window.addEventListener("pointerup",()=>dragging=false)

/* ---------- Animate ---------- */

function animate(){
requestAnimationFrame(animate)

reveal+=(target-reveal)*.06

ambient.intensity=.05+reveal*.6
mainLight.intensity=reveal*2

bulbs.forEach(b=>{
b.mesh.material.emissiveIntensity=reveal*2
b.glow.intensity=reveal*3
})

lightsGroup.rotation.z=Math.sin(Date.now()*.0005)*.05
stars.rotation.y+=.0004

title.style.opacity=reveal
title.style.transform=`translateY(${40-40*reveal}px) scale(${.95+reveal*.05})`

renderer.render(scene,camera)
}

animate()

</script>

</body>
</html>
